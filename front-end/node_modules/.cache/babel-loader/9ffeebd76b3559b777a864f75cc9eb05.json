{"ast":null,"code":"var _jsxFileName = \"/Users/rishabbibhuty/Programmings/react/tinder/front-end/src/components/AuthModal.js\",\n    _s = $RefreshSig$();\n\nimport android from \"../imges/03aed264f8539c570e9bc80ba6b60d92.webp\";\nimport ios from \"../imges/d256a5b510a685030be375c63a9010e9.webp\";\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AuthModal = _ref => {\n  _s();\n\n  let {\n    setShowModal,\n    isSignUp\n  } = _ref;\n  const [Email, setEmail] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [confirmPassword, setconfirmPassword] = useState(null);\n  const [error, setError] = useState(null);\n  const [cookies, setCookie, removeCookie] = useCookies();\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    setShowModal(false);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      if (isSignUp && password !== confirmPassword) {\n        setError('Password not match');\n        setTimeout(() => setError(null), 2000);\n        return;\n      }\n\n      const response = await axios.post(`http://localhost:8000/sign/${isSignUp ? 'signup' : 'login'}`, {\n        Email,\n        password\n      });\n      setCookie('Email', response.data.Email);\n      setCookie('AuthToken', response.data.AuthToken);\n      setCookie('userID', response.data.userId);\n      const success = response.status === 201;\n      if (success && isSignUp) navigate('/onboarding');\n      if (success && !isSignUp) navigate('/dashboard');\n      window.location.reload();\n    } catch (error) {\n      if (error && isSignUp) setError('User already exits! Please Log in');\n      if (error && !isSignUp) setError('Invalid credentials');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-modal\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close-icon\",\n      onClick: handleClick,\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: isSignUp ? 'CREATE ACCOUNT' : 'LOG IN'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), error ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 16\n    }, this) : \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        required: true,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }, this), isSignUp && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"confirm-password\",\n        name: \"confirm-password\",\n        placeholder: \"Confirm password\",\n        required: true,\n        onChange: e => setconfirmPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"By clicking Log in, you agree to our terms. Learn ow we process you data in our Privacy Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"secondary-button\",\n        type: \"submit\",\n        value: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"GET THE APP \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-logo-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"ios-logo\",\n          src: ios\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"android-logo\",\n          src: android\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 4\n  }, this);\n};\n\n_s(AuthModal, \"DPIBu2aKopIYBJPDsZmtFLbyX68=\", false, function () {\n  return [useCookies, useNavigate];\n});\n\n_c = AuthModal;\nexport default AuthModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthModal\");","map":{"version":3,"sources":["/Users/rishabbibhuty/Programmings/react/tinder/front-end/src/components/AuthModal.js"],"names":["android","ios","axios","useCookies","useState","useNavigate","AuthModal","setShowModal","isSignUp","Email","setEmail","password","setPassword","confirmPassword","setconfirmPassword","error","setError","cookies","setCookie","removeCookie","navigate","handleClick","handleSubmit","e","preventDefault","setTimeout","response","post","data","AuthToken","userId","success","status","window","location","reload","target","value"],"mappings":"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","sourcesContent":["import android from \"../imges/03aed264f8539c570e9bc80ba6b60d92.webp\"\nimport ios from \"../imges/d256a5b510a685030be375c63a9010e9.webp\"\nimport axios from 'axios'\nimport {useCookies} from 'react-cookie'\nimport { useState } from \"react\"\nimport {useNavigate} from \"react-router-dom\"\n\n\nconst AuthModal = ({setShowModal,isSignUp}) => {\n\tconst [Email, setEmail] = useState(null)\n\tconst [password, setPassword] = useState(null)\n\tconst [confirmPassword, setconfirmPassword] = useState(null)\n    const [error, setError] = useState(null)\n\tconst [cookies,setCookie,removeCookie] = useCookies()\n\tconst navigate = useNavigate()\n\tconst handleClick=()=>{\n\t  setShowModal(false)\n\t}\n\n\tconst handleSubmit=async(e)=>{\n\t e.preventDefault()\n\t\ttry{\n\t      if( isSignUp &&\tpassword !== confirmPassword) {\n\t\t\t\tsetError('Password not match')\n\t\t\t    setTimeout(()=>setError(null),2000)\n\t\t\t    return \n\t\t}\n\t\t\t\t\n\t\t\tconst response=await axios.post(`http://localhost:8000/sign/${isSignUp ? 'signup' : 'login'}`,{\n\t\t\t\tEmail,\n\t\t\t\tpassword\n\t\t\t})\n            \n\n     \n\t\t\tsetCookie('Email',response.data.Email)\n\t\t\tsetCookie('AuthToken',response.data.AuthToken)\n\t\t\tsetCookie('userID',response.data.userId)\n\t\t\n\n\t\t\tconst success = response.status === 201\n\n\t\t\tif(success && isSignUp) navigate('/onboarding')\n\t\t\tif(success && !isSignUp) navigate('/dashboard')\n\n\t\t\twindow.location.reload()\n\n\t\t\t\n\n\t\t}\n\t\tcatch(error){\n\t\t\tif(error && isSignUp)\n\t\t\tsetError('User already exits! Please Log in')\n\n\t\t\tif(error && !isSignUp)\n\t\t\tsetError('Invalid credentials')\n\t\t}\n\t}\n\n\n\treturn (\n\t  <div className=\"auth-modal\">\n\t\t  <div  className=\"close-icon\" onClick={handleClick}>X</div>\n\t\t  <h2>{isSignUp ? 'CREATE ACCOUNT' : 'LOG IN'}</h2>\n\t\t  { error ?  <span className=\"error\">{error}</span>  : \" \"  }\n\t\t  <form onSubmit={handleSubmit}>\n\t\t\t  <input \n\t\t\t  type='email'\n\t\t\t  id='email'\n\t\t\t  name=\"email\"\n\t\t\t  placeholder=\"Email\"\n\t\t\t  required={true}\n\t\t\t  onChange={(e)=> setEmail(e.target.value)}\n\t\t\t  />\n\t\t\t  <input \n\t\t\t  type='password'\n\t\t\t  id='password'\n\t\t\t  name=\"password\"\n\t\t\t  placeholder=\"Password\"\n\t\t\t  required={true}\n\t\t\t  onChange={(e)=> setPassword(e.target.value)}\n\t\t\t  />\n\n\t\t\t  {isSignUp && <input \n\t\t\t  type='password'\n\t\t\t  id='confirm-password'\n\t\t\t  name=\"confirm-password\"\n\t\t\t  placeholder=\"Confirm password\"\n\t\t\t  required={true}\n\t\t\t  onChange={(e)=> setconfirmPassword(e.target.value)}\n\t\t\t  />\n\t\t\t  }\n\n\t\t\t  <p>By clicking Log in, you agree to our terms. Learn ow we process you data in our Privacy Policy</p>\n\t\t\t  <input className=\"secondary-button\"  type=\"submit\" value=\"Log In\"/>\n\t\t  </form>\n\n\t\t\t  <hr />\n\n\t\t\t  <h2>GET THE APP </h2>\n\n\t\t\t  <div className=\"app-logo-container\">\n\t\t\t\t  <div className=\"logo\">\n\t\t\t\t\t  <img alt=\"ios-logo\" src={ios} />\t\n\t\t\t\t  </div> \n\t\t\t\t  <div className=\"logo\">\n\t\t\t\t\t  <img alt=\"android-logo\" src={android} />\t\n\t\t\t\t  </div>\n\t\t\t  </div>\n\n\t  </div>\n\t)\n}\n\nexport default AuthModal\n"]},"metadata":{},"sourceType":"module"}